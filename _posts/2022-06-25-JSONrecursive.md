---
title: "JSON.stringify 를 재귀함수로 직접 구현해보기"
mathjax: false
layout: post
---

## JSON.stringify 를 재귀함수 써서 직접 구현해보기

JSON.stringify 메서드는 객체를 JSON 포맷의 문자열로 변환한다.
일단, 들어오는 요소가 모두 문자열로 변환되어야하고 최종 객체 또한 문자열이 되어야하는 것이 포인트이다.
인자의 타입이 boolean, number 이거나, 인자자체가 null일 경우에는 한겹 '' 씌운 문자열을 감싸준다.
인자가 문자열일경우에는, 문자열 자체에 또 한겹 씌운 '""' 문자열을 반환한다.
그리고 배열과 객체의 경우, 각 요소 또한 문자열로 변환되어야 하기때문에 요소의 타입을 확인하면서 문자열로 변환시켜주는 게 필요한데, 이때 재귀함수를 사용한다.

<img width="672" alt="스크린샷 2022-06-25 오후 11 44 19" src="https://user-images.githubusercontent.com/92300124/175778625-f0f20871-023a-414f-9a72-1c387e493e57.png">

여기서 나를 정말 고통받게 만든건 ...
테스트파일에서 돌려보면 분명!! 숫자, 불리언, 문자열일 경우엔 따옴표가 감싸진게 눈에 보이게 나타나있다.
객체는 문자열 "9"로 변환되어야 합니다
객체는 문자열 "null"로 변환되어야 합니다
객체는 문자열 "true"로 변환되어야 합니다
객체는 문자열 "false"로 변환되어야 합니다
객체는 문자열 ""Hello world""로 변환되어야 합니다

그런데, 내가 예상했을때 이 숫자와 문자열을 포함하고있는 배열의 경우
{% highlight javascript %}
[8, "hi"]
{% endhighlight javascript %}

분명, '['8','"hi"']' 의 형태로 나타나야할 것 같은데,
결과값은 '[8,"hi"]' 이렇게 요소에는 string 겹이 안겹쳐져있는 상태?로 나와야 한다는게 아닌가...?
이게 도저히 이해할 수 가 없었다. 재귀를 거치면 당연히 8은 숫자요소니까 얘도 string형태로 변환되고, "hi"는 문자열이니까 당연히 double로 된 문자열 '"hi"'이어야 되는것 같은데...
